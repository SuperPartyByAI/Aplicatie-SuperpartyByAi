import{a as y,j as e}from"./index-BsM3Z8NS.js";import{u as j,b as d}from"./react-vendor-BCFq-EBz.js";import"./firebase-CZFSqwcK.js";function k(){const n=j(),i=y.currentUser?.email==="ursache.andrei1995@gmail.com",[o,a]=d.useState([]),[r,c]=d.useState(null),[l,m]=d.useState(!1);d.useEffect(()=>{if(!i){alert("â›” Acces interzis! Doar administratorul poate accesa aceastÄƒ paginÄƒ."),n("/home");return}x()},[i,n]);const x=()=>{const t=localStorage.getItem("whatsapp-accounts");t&&a(JSON.parse(t))},h=t=>{localStorage.setItem("whatsapp-accounts",JSON.stringify(t)),a(t)},f=(t,s)=>{const u={id:Date.now().toString(),phoneNumber:t,name:s||t,addedAt:new Date().toISOString(),webViewKey:`whatsapp-${Date.now()}`},b=[...o,u];h(b),m(!1),c(u)},g=t=>{if(!confirm("Sigur vrei sÄƒ È™tergi acest cont WhatsApp? Vei trebui sÄƒ scanezi QR din nou."))return;const s=o.filter(u=>u.id!==t);h(s),r?.id===t&&c(null)};return i?e.jsxs("div",{className:"page-container",children:[e.jsx("div",{className:"page-header",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("h1",{children:"ðŸ’¬ Chat Clienti"}),e.jsxs("p",{className:"page-subtitle",children:["Gestionare ",o.length," conturi WhatsApp"]})]}),e.jsx("button",{onClick:()=>n("/home"),className:"btn-secondary",children:"â† ÃŽnapoi"})]})}),e.jsxs("div",{style:{display:"flex",gap:"1rem",height:"calc(100vh - 200px)"},children:[e.jsxs("div",{style:{width:"300px",background:"#1f2937",borderRadius:"8px",padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[e.jsx("button",{onClick:()=>m(!0),style:{padding:"1rem",background:"#10b981",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:"âž• AdaugÄƒ Cont WhatsApp"}),e.jsx("div",{style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:"0.5rem"},children:o.length===0?e.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"#9ca3af"},children:[e.jsx("p",{children:"ðŸ“± Niciun cont adÄƒugat"}),e.jsx("p",{style:{fontSize:"0.875rem",marginTop:"0.5rem"},children:"ApasÄƒ butonul de mai sus pentru a adÄƒuga primul cont WhatsApp"})]}):o.map(t=>e.jsx("div",{onClick:()=>c(t),style:{padding:"1rem",background:r?.id===t.id?"#3b82f6":"#374151",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",position:"relative"},onMouseEnter:s=>{r?.id!==t.id&&(s.currentTarget.style.background="#4b5563")},onMouseLeave:s=>{r?.id!==t.id&&(s.currentTarget.style.background="#374151")},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{fontSize:"1rem",fontWeight:"600",color:"white",marginBottom:"0.25rem"},children:["ðŸ“± ",t.name]}),e.jsx("div",{style:{fontSize:"0.875rem",color:r?.id===t.id?"#e0e7ff":"#9ca3af"},children:t.phoneNumber})]}),e.jsx("button",{onClick:s=>{s.stopPropagation(),g(t.id)},style:{background:"rgba(239, 68, 68, 0.2)",color:"#ef4444",border:"none",borderRadius:"4px",padding:"0.25rem 0.5rem",cursor:"pointer",fontSize:"0.75rem"},children:"ðŸ—‘ï¸"})]})},t.id))})]}),e.jsx("div",{style:{flex:1,background:"#1f2937",borderRadius:"8px",overflow:"hidden",display:"flex",flexDirection:"column"},children:l?e.jsx(v,{onAdd:f,onCancel:()=>m(!1)}):r?e.jsx(S,{account:r}):e.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af",flexDirection:"column",gap:"1rem"},children:[e.jsx("div",{style:{fontSize:"4rem"},children:"ðŸ’¬"}),e.jsx("p",{style:{fontSize:"1.25rem"},children:"SelecteazÄƒ un cont WhatsApp"}),e.jsx("p",{style:{fontSize:"0.875rem"},children:"sau adaugÄƒ un cont nou pentru a Ã®ncepe"})]})})]})]}):null}function v({onAdd:n,onCancel:p}){const[i,o]=d.useState(""),[a,r]=d.useState(""),c=l=>{if(l.preventDefault(),!i.trim()){alert("Te rog introdu numÄƒrul de telefon");return}n(i,a)};return e.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:e.jsxs("div",{style:{background:"#374151",borderRadius:"12px",padding:"2rem",maxWidth:"500px",width:"100%"},children:[e.jsx("h2",{style:{marginBottom:"1.5rem",color:"white"},children:"âž• AdaugÄƒ Cont WhatsApp"}),e.jsxs("form",{onSubmit:c,children:[e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#d1d5db",fontSize:"0.875rem"},children:"Nume cont (opÈ›ional)"}),e.jsx("input",{type:"text",value:a,onChange:l=>r(l.target.value),placeholder:"Ex: Support 1, VÃ¢nzÄƒri, etc.",style:{width:"100%",padding:"0.75rem",background:"#1f2937",border:"1px solid #4b5563",borderRadius:"8px",color:"white",fontSize:"1rem"}})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#d1d5db",fontSize:"0.875rem"},children:"NumÄƒr telefon *"}),e.jsx("input",{type:"text",value:i,onChange:l=>o(l.target.value),placeholder:"+40 721 XXX XXX",required:!0,style:{width:"100%",padding:"0.75rem",background:"#1f2937",border:"1px solid #4b5563",borderRadius:"8px",color:"white",fontSize:"1rem"}}),e.jsx("p",{style:{fontSize:"0.75rem",color:"#9ca3af",marginTop:"0.5rem"},children:"Acest numÄƒr va fi folosit pentru identificare"})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[e.jsx("button",{type:"button",onClick:p,style:{padding:"0.75rem 1.5rem",background:"#4b5563",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem"},children:"AnuleazÄƒ"}),e.jsx("button",{type:"submit",style:{padding:"0.75rem 1.5rem",background:"#10b981",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"600"},children:"ContinuÄƒ â†’"})]})]}),e.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"#1f2937",borderRadius:"8px",fontSize:"0.875rem",color:"#9ca3af"},children:[e.jsx("p",{style:{fontWeight:"600",marginBottom:"0.5rem",color:"#d1d5db"},children:"â„¹ï¸ UrmÄƒtorii paÈ™i:"}),e.jsxs("ol",{style:{paddingLeft:"1.5rem",margin:0},children:[e.jsx("li",{children:"Vei vedea un QR code"}),e.jsx("li",{children:"Deschide WhatsApp pe telefon"}),e.jsx("li",{children:'ApasÄƒ "Linked Devices" â†’ "Link a Device"'}),e.jsx("li",{children:"ScaneazÄƒ QR code-ul"}),e.jsx("li",{children:"Gata! Contul e conectat"})]})]})]})})}function S({account:n}){const[p,i]=d.useState(!0);return e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{padding:"1rem",background:"#374151",borderBottom:"1px solid #4b5563",display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{fontSize:"1.125rem",fontWeight:"600",color:"white"},children:["ðŸ“± ",n.name]}),e.jsx("div",{style:{fontSize:"0.875rem",color:"#9ca3af"},children:n.phoneNumber})]}),e.jsx("div",{style:{padding:"0.5rem 1rem",background:"#10b981",borderRadius:"6px",fontSize:"0.875rem",color:"white",fontWeight:"600"},children:"âœ“ Conectat"})]}),e.jsxs("div",{style:{flex:1,position:"relative"},children:[p&&e.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",background:"#1f2937",zIndex:10},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{className:"spinner",style:{margin:"0 auto 1rem"}}),e.jsx("p",{style:{color:"#9ca3af"},children:"Se Ã®ncarcÄƒ WhatsApp Web..."}),e.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginTop:"0.5rem"},children:"DacÄƒ vezi QR code, scaneazÄƒ-l cu telefonul"})]})}),e.jsx("iframe",{src:"https://web.whatsapp.com",style:{width:"100%",height:"100%",border:"none"},onLoad:()=>i(!1),title:`WhatsApp - ${n.name}`},n.webViewKey)]})]})}export{k as default};
