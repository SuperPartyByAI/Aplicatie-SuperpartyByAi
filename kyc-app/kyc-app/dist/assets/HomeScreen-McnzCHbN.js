import{a as L,d,j as e,c as yt,b as jt,s as St}from"./index-D5X7DQDB.js";import{u as Ct,b as n}from"./react-vendor-BCVUYfxV.js";import{J as zt,G as z,H as f,K as ae,M as ge,D as b,I as D,B as De,t as E,x as Nt,N as O,u as _,O as _e,y as wt,z as kt,A as At}from"./firebase-CZFSqwcK.js";function Bt(){const u=Ct(),[l,se]=n.useState(L.currentUser),[G,Ue]=n.useState(null),[We,fe]=n.useState(!1),[xe,ne]=n.useState(!1),[K,ve]=n.useState(!1),[N,ie]=n.useState(!1),[x,y]=n.useState("dashboard"),[be,Pe]=n.useState([]),[ye,je]=n.useState([]),[Se,V]=n.useState(!1),[I,Le]=n.useState(null),[oe,Oe]=n.useState([]),[U,Ce]=n.useState(!1),[ce,Ge]=n.useState([]),[W,Ke]=n.useState(null),[ze,Ve]=n.useState([]),[F,Ne]=n.useState(!1),[Fe,Y]=n.useState(!1),[j,we]=n.useState(null),[w,H]=n.useState(""),[le,q]=n.useState(""),[B,ke]=n.useState(!1),[M,de]=n.useState({}),Ye=n.useRef(null),J=n.useRef(null),[T,k]=n.useState(()=>{const t=localStorage.getItem("chat_history");if(t)try{return JSON.parse(t)}catch{return[{role:"assistant",content:"BunÄƒ! Sunt asistentul tÄƒu AI. Cu ce te pot ajuta?"}]}return[{role:"assistant",content:"BunÄƒ! Sunt asistentul tÄƒu AI. Cu ce te pot ajuta?"}]}),[Q,me]=n.useState(""),[X,Ae]=n.useState(!1),[Re,Z]=n.useState(!1),[ee,He]=n.useState(localStorage.getItem("theme")||"dark"),[A,ue]=n.useState([]),Ee=n.useRef(null);n.useEffect(()=>{localStorage.setItem("chat_history",JSON.stringify(T))},[T]),n.useEffect(()=>{document.body.className=ee==="light"?"light-theme":"",localStorage.setItem("theme",ee)},[ee]);const qe=()=>{He(t=>t==="dark"?"light":"dark")},[R,Je]=n.useState({evenimenteTotal:0,evenimenteNealocate:0,staffTotal:0,kycPending:0}),[Qe,Xe]=n.useState(!0);n.useEffect(()=>{const t=zt(L,r=>{console.log("Auth state changed:",r?.email||"No user"),se(r)});return()=>t()},[]),n.useEffect(()=>{(async()=>{if(l){const r=await De(E(d,"staffProfiles",l.uid));r.exists()&&Ue(r.data())}})(),it()},[l]),n.useEffect(()=>{N&&x==="gm-conversations"&&ce.length===0&&Ie()},[N,x]);const Ie=async()=>{Ne(!0);try{const t=z(f(d,"aiConversations"),ae("timestamp","desc"),ge(1e3)),a=(await b(t)).docs.map(o=>({id:o.id,...o.data(),timestamp:o.data().timestamp?.toDate()})),s={};a.forEach(o=>{const c=o.userId;s[c]||(s[c]={userId:c,userName:o.userName||"Unknown",userEmail:o.userEmail||"unknown@email.com",conversations:[],lastConversation:o.timestamp}),s[c].conversations.push(o)});const i=Object.values(s).sort((o,c)=>c.lastConversation-o.lastConversation);console.log("ğŸ“Š GM Users loaded:",i.length,"users"),console.log("ğŸ’¬ Total conversations:",a.length);const p=z(f(d,"aiCorrections")),h=await b(p),g={};h.docs.forEach(o=>{const c=o.data();g[c.conversationId]={id:o.id,...c,correctedAt:c.correctedAt?.toDate()}}),console.log("âœï¸ Corrections loaded:",Object.keys(g).length),Ge(i),je(a),de(g)}catch(t){console.error("âŒ Error loading GM users:",t),alert("Eroare la Ã®ncÄƒrcarea userilor: "+t.message)}finally{Ne(!1)}},Ze=t=>{Ke(t),Ve(t.conversations)},et=t=>{we(t);const r=M[t.id];r?(H(r.correctedResponse),q(r.correctionPrompt||"")):(H(t.aiResponse),q("")),Y(!0)},tt=async()=>{if(!w.trim()){alert("Te rog sÄƒ scrii rÄƒspunsul corect!");return}ke(!0);try{const t=M[j.id];if(t){const r=E(d,"aiCorrections",t.id),a={correctedResponse:w.trim(),correctionPrompt:le.trim(),correctedBy:l.uid,correctedByEmail:l.email,correctedAt:_(),applied:!1};await O(r,a),de(s=>({...s,[j.id]:{...t,...a,correctedAt:new Date}})),alert("âœ… CorecÈ›ie actualizatÄƒ cu succes!")}else{const r={conversationId:j.id,originalResponse:j.aiResponse,correctedResponse:w.trim(),correctionPrompt:le.trim(),correctedBy:l.uid,correctedByEmail:l.email,correctedAt:_(),applied:!1},a=await _e(f(d,"aiCorrections"),r);de(s=>({...s,[j.id]:{id:a.id,...r,correctedAt:new Date}})),alert("âœ… CorecÈ›ie salvatÄƒ cu succes!")}Y(!1),we(null),H(""),q("")}catch(t){console.error("Error saving correction:",t),alert("âŒ Eroare la salvarea corecÈ›iei: "+t.message)}finally{ke(!1)}},pe=async()=>{V(!0);try{const t=z(f(d,"users"),D("status","==","pendingApproval")),a=(await b(t)).docs.map(s=>({id:s.id,...s.data()}));Pe(a)}catch(t){console.error("Error loading KYC submissions:",t)}finally{V(!1)}},rt=async()=>{V(!0);try{const t=z(f(d,"aiConversations"),ae("timestamp","desc"),ge(50)),a=(await b(t)).docs.map(s=>({id:s.id,...s.data()}));je(a)}catch(t){console.error("Error loading conversations:",t)}finally{V(!1)}},at=async t=>{if(confirm("Aprobi aceastÄƒ cerere KYC?"))try{await O(E(d,"users",t),{status:"approved",kycStatus:"approved",approvedAt:_(),approvedBy:l.uid}),alert("âœ… KYC aprobat cu succes!"),pe()}catch(r){console.error("Error approving KYC:",r),alert("âŒ Eroare la aprobare: "+r.message)}},st=async t=>{const r=prompt("Motiv respingere:");if(r)try{await O(E(d,"users",t),{status:"rejected",kycStatus:"rejected",rejectionReason:r,rejectedAt:_(),rejectedBy:l.uid}),alert("âœ… KYC respins!"),pe()}catch(a){console.error("Error rejecting KYC:",a),alert("âŒ Eroare la respingere: "+a.message)}},Be=async()=>{Ce(!0);try{const t=z(f(d,"performanceMetrics"),ae("timestamp","desc"),ge(1)),r=await b(t);r.empty||Le(r.docs[0].data());const a=z(f(d,"performanceAlerts"),D("resolved","==",!1),ae("createdAt","desc")),i=(await b(a)).docs.map(p=>({id:p.id,...p.data()}));Oe(i)}catch(t){console.error("Error loading performance metrics:",t)}finally{Ce(!1)}},nt=async t=>{try{await O(E(d,"performanceAlerts",t),{resolved:!0,resolvedAt:_(),resolvedBy:l.uid}),Be()}catch(r){console.error("Error resolving alert:",r),alert("âŒ Eroare la rezolvare: "+r.message)}},it=async()=>{try{const t=l?.email==="ursache.andrei1995@gmail.com",a=(await b(f(d,"evenimente"))).docs.map(o=>({id:o.id,...o.data()})),s=a.filter(o=>(o.staffAlocat||[]).length===0),i=await b(z(f(d,"users"),D("status","==","approved"))),p=new Date().toISOString().split("T")[0],h=a.filter(o=>(o.data||o.dataStart)===p);let g=0;t&&(g=(await b(z(f(d,"users"),D("status","==","pendingApproval")))).size),Je({evenimenteTotal:a.length,evenimenteAstazi:h.length,evenimenteNealocate:s.length,staffTotal:i.size,kycPending:g})}catch(t){console.error("Error loading stats:",t)}finally{Xe(!1)}},ot=async()=>{await Nt(L),u("/")};n.useEffect(()=>{J.current&&(J.current.scrollTop=J.current.scrollHeight)},[T]);const ct=async()=>{try{const t={user:{email:l?.email,nume:G?.nume||"Necunoscut",code:G?.code},stats:R,isAdmin:l?.email==="ursache.andrei1995@gmail.com"},r=z(f(d,"evenimente"),D("staffAlocat","array-contains",l.uid)),a=await b(r);return t.evenimenteUser=a.docs.map(s=>({nume:s.data().nume,data:s.data().data,locatie:s.data().locatie,rol:s.data().rol})),t}catch(t){return console.error("Error getting context:",t),null}},lt=async t=>{const r=t.toLowerCase();if(r==="gm"||r==="g m"||r.includes("modul gm"))return ie(!0),y("gm-conversations"),"ğŸ® Modul GM activat! Vezi conversaÈ›iile userilor Ã®n panoul din stÃ¢nga.";if(r.includes("alocÄƒ")||r.includes("aloca")){const a=r.match(/(\d{4}-\d{2}-\d{2})|(\d{1,2}\s+\w+)/g);if(!a||a.length<2)return'Te rog sÄƒ specifici intervalul de date. Exemplu: "AlocÄƒ evenimente din 2024-01-01 pÃ¢nÄƒ la 2024-01-31"';try{const i=(await b(f(d,"evenimente"))).docs.map(m=>({id:m.id,...m.data()})),p=i.filter(m=>!m.staffAlocat||m.staffAlocat.length===0);if(p.length===0)return"âœ… Nu existÄƒ evenimente nealocate!";const g=(await b(z(f(d,"users"),D("status","==","approved")))).docs.map(m=>({id:m.id,...m.data()})),c=(await b(f(d,"disponibilitati"))).docs.map(m=>({id:m.id,...m.data()}));let te=0;for(const m of p){const S=m.data||m.dataStart,P=m.nrStaffNecesar||1,Te=g.filter($=>{const he=c.some(v=>v.userId!==$.uid||v.tipDisponibilitate==="indisponibil"?!1:S>=v.dataStart&&S<=v.dataEnd),re=i.some(v=>v.id===m.id||!v.staffAlocat||!v.staffAlocat.includes($.uid)?!1:(v.data||v.dataStart)===S);return he&&!re});Te.sort(($,he)=>{const re=c.some(C=>C.userId===$.uid&&C.tipDisponibilitate==="preferinta"&&S>=C.dataStart&&S<=C.dataEnd),v=c.some(C=>C.userId===he.uid&&C.tipDisponibilitate==="preferinta"&&S>=C.dataStart&&S<=C.dataEnd);return re&&!v?-1:!re&&v?1:0});const $e=Te.slice(0,P).map($=>$.uid);$e.length>0&&(await O(E(d,"evenimente",m.id),{staffAlocat:$e,dataAlocare:new Date,alocatDe:"AI Chat"}),te++)}return`âœ… Alocare completÄƒ! Am alocat ${te} din ${p.length} evenimente. Vezi rezultatele Ã®n pagina Evenimente.`}catch(s){return console.error("Error in alocare:",s),"âŒ Eroare la alocare: "+s.message}}if(r.includes("evenimente")&&(r.includes("aratÄƒ")||r.includes("vezi")))return u("/evenimente"),"Te-am dus la Evenimente.";if(r.includes("disponibilitate"))return u("/disponibilitate"),"Te-am dus la Disponibilitate.";if(r.includes("salarizare")||r.includes("salarii"))return u("/salarizare"),"Te-am dus la Salarizare.";if(r.includes("È™oferi")||r.includes("soferi"))return u("/soferi"),"Te-am dus la Management È˜oferi.";if(r.includes("admin")){const a=L.currentUser;return a?(l||se(a),a.email?.trim().toLowerCase()==="ursache.andrei1995@gmail.com"?(ve(!0),y("admin-kyc"),`âœ… Mod Admin activat! VerificÄƒ sidebar-ul - ai acum acces la:
â€¢ ğŸ‘¥ Admin KYC
â€¢ ğŸ’¬ ConversaÈ›ii AI

ğŸ’¡ Pentru a ieÈ™i din modul admin, apasÄƒ "IeÈ™i din Admin" din sidebar.`):"â›” Acces interzis. Doar administratorul poate accesa Admin Panel."):"â³ Se Ã®ncarcÄƒ datele utilizatorului... ÃncearcÄƒ din nou Ã®n cÃ¢teva secunde."}if(r.includes("gm")){const a=L.currentUser;return a?(l||se(a),a.email?.trim().toLowerCase()==="ursache.andrei1995@gmail.com"?(ie(!0),y("gm-overview"),`âœ… Mod GM activat! VerificÄƒ sidebar-ul - ai acum acces la:
â€¢ ğŸ® GM Overview
â€¢ ğŸ“Š Analytics

ğŸ’¡ Pentru a ieÈ™i din modul GM, apasÄƒ "IeÈ™i din GM" din sidebar.`):"â›” Acces interzis. Doar administratorul poate accesa GM Mode."):"â³ Se Ã®ncarcÄƒ datele utilizatorului... ÃncearcÄƒ din nou Ã®n cÃ¢teva secunde."}return r.includes("cÃ¢te evenimente")||r.includes("cate evenimente")?`Ai ${R.evenimenteTotal} evenimente Ã®n total, din care ${R.evenimenteAstazi} astÄƒzi.`:r.includes("cÃ¢È›i staff")||r.includes("cati staff")?`Sunt ${R.staffTotal} membri staff activi.`:r.includes("performanÈ›Äƒ")||r.includes("performanta")||r.includes("task")||r.includes("cum merg")?await dt():null},dt=async()=>{try{const t=new Date().toISOString().split("T")[0],r=await De(E(d,"performanceMetrics",`${l.uid}_${t}`));if(!r.exists())return"Nu am date de performanÈ›Äƒ pentru astÄƒzi. Sistemul de monitorizare va genera raportul Ã®n curÃ¢nd.";const a=r.data(),s=a.overallScore>=90?"ğŸŸ¢":a.overallScore>=70?"ğŸŸ¡":a.overallScore>=50?"ğŸŸ ":"ğŸ”´",i=a.trend==="up"?"ğŸ“ˆ":a.trend==="down"?"ğŸ“‰":"â¡ï¸";return`${s} **Performance Score: ${a.overallScore}/100**

ğŸ“Š Detalii:
â€¢ Task-uri: ${a.tasksCompleted}/${a.tasksAssigned} (${a.completionRate}%)
â€¢ Calitate: ${a.qualityScore}/100
â€¢ Punctualitate: ${a.punctualityScore}/100
â€¢ Conformitate: ${a.complianceScore}/100

${i} Trend: ${a.trend} (${a.trendPercentage>0?"+":""}${a.trendPercentage}%)

${a.tasksOverdue>0?`âš ï¸ Ai ${a.tasksOverdue} task-uri Ã®n Ã®ntÃ¢rziere!`:"âœ… Toate task-urile la zi!"}`}catch(t){return console.error("Error fetching performance:",t),"Eroare la Ã®ncÄƒrcarea datelor de performanÈ›Äƒ."}},Me=async()=>{if(!Q.trim()&&A.length===0)return;const t=Q.trim(),r=A;if(me(""),ue([]),k(a=>[...a,{role:"user",content:t,images:r.map(s=>s.preview)}]),r.length===0){const a=await lt(t);if(a){k(s=>[...s,{role:"assistant",content:a}]);return}}Ae(!0);try{const a=await ct();if(r.length>0){const s=await ht(r),i=gt(r),p=ft(t),h=await yt({action:"validate_image",message:t,imageUrls:s,meta:i,documentType:p,userContext:a});if(h.data.success)xt(h.data);else throw new Error("Image validation failed")}else{const s=await jt({messages:[...T.slice(-10),{role:"user",content:t}],userContext:a});if(s.data.success)k(i=>[...i,{role:"assistant",content:s.data.message}]);else throw new Error("AI response failed")}}catch(a){console.error("Chat error:",a);let s="Eroare la comunicarea cu AI. ÃncearcÄƒ din nou.";a.code==="unauthenticated"?s="Trebuie sÄƒ fii autentificat pentru a folosi AI.":a.code==="resource-exhausted"?s="LimitÄƒ de utilizare atinsÄƒ. ÃncearcÄƒ din nou mai tÃ¢rziu.":a.code==="failed-precondition"?s="Serviciul AI nu este configurat corect. ContacteazÄƒ administratorul.":a.code==="unavailable"&&(s="Serviciul AI este temporar indisponibil. ÃncearcÄƒ din nou."),k(i=>[...i,{role:"assistant",content:s}])}finally{Ae(!1)}},mt=()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){alert("Browser-ul tÄƒu nu suportÄƒ recunoaÈ™tere vocalÄƒ. ÃncearcÄƒ Chrome.");return}const t=window.SpeechRecognition||window.webkitSpeechRecognition,r=new t;r.lang="ro-RO",r.continuous=!1,r.interimResults=!1,r.onstart=()=>{Z(!0)},r.onresult=a=>{const s=a.results[0][0].transcript;me(s),Z(!1)},r.onerror=a=>{console.error("Speech recognition error:",a.error),Z(!1),alert("Eroare la recunoaÈ™tere vocalÄƒ: "+a.error)},r.onend=()=>{Z(!1)},r.start()},ut=async t=>{const r=Array.from(t.target.files);for(const a of r){if(A.length>=3){alert("PoÈ›i Ã®ncÄƒrca maxim 3 imagini simultan");break}if(a.size>3*1024*1024){alert(`${a.name} este prea mare (max 3MB). ComprimÄƒ imaginea È™i Ã®ncearcÄƒ din nou.`);continue}if(!["image/jpeg","image/png","image/webp"].includes(a.type)){alert(`${a.name} nu este format valid. FoloseÈ™te JPG, PNG sau WEBP.`);continue}const s=URL.createObjectURL(a);ue(i=>[...i,{file:a,preview:s,size:a.size,name:a.name,type:a.type}])}t.target.value=""},pt=t=>{ue(r=>{const a=r.filter((s,i)=>i!==t);return URL.revokeObjectURL(r[t].preview),a})},ht=async t=>{const r=t.map(async(a,s)=>{const p=`${Date.now()}_${s}_${a.name}`,h=wt(St,`ai-validations/${l.uid}/${p}`);return await kt(h,a.file),await At(h)});return await Promise.all(r)},gt=t=>{const r=t.map(s=>(s.size/1024/1024).toFixed(2)),a=t.some(s=>s.size>3*1024*1024);return`META has_image=true; image_count=${t.length}; image_size_mb=[${r.join(",")}]; user_says_over_3mb=${a}; user_priority=quality`},ft=t=>{const r=t.toLowerCase();return r.includes("ci")||r.includes("carte")||r.includes("identitate")?"CI":r.includes("permis")?"permis":r.includes("cazier")?"cazier":r.includes("eveniment")||r.includes("pozÄƒ")||r.includes("poza")?"eveniment":r.includes("raport")?"raport":r.includes("facturÄƒ")||r.includes("factura")||r.includes("bon")?"factura":"unknown"},xt=t=>{const{validation:r,message:a}=t,{overall_decision:s,per_image:i,need_user_action:p}=r;let h="",g="";switch(s){case"ACCEPT":h="âœ…",g="Document acceptat!";break;case"REJECT":h="âŒ",g="Document respins";break;case"REVIEW":h="âš ï¸",g="Document necesitÄƒ verificare";break;default:h="â“",g="Nu pot procesa documentul"}let o=`${h} **${g}**

${a}`;i&&i.length>0&&(o+=`

ğŸ“‹ Detalii per imagine:`,i.forEach((c,te)=>{const m=c.app_decision==="ACCEPT"?"âœ…":c.app_decision==="REJECT"?"âŒ":c.app_decision==="REVIEW"?"âš ï¸":"â“";if(o+=`
${te+1}. ${m} ${c.app_decision}`,c.detected_objects&&c.detected_objects.length>0){const S=c.detected_objects.filter(P=>P.label!=="UNKNOWN_RELEVANT").map(P=>P.label).join(", ");S&&(o+=`
   Detectat: ${S}`)}c.image_quality&&c.image_quality!=="unknown"&&(o+=`
   Calitate: ${c.image_quality}`)})),p&&p!=="none"&&(o+=`

ğŸ“Œ AcÈ›iune necesarÄƒ: ${vt(p)}`),k(c=>[...c,{role:"assistant",content:o,validationResult:r}])},vt=t=>({upload_image:"ÃncarcÄƒ imaginea",compress_to_3mb:"ComprimÄƒ imaginea sub 3MB",crop_zoom:"FÄƒ crop/zoom pe zona relevantÄƒ",better_photo:"FÄƒ o pozÄƒ mai bunÄƒ (luminÄƒ, focus, unghi perpendicular)",clarify_question:"ClarificÄƒ cererea",provide_app_rules:"SpecificÄƒ tipul documentului"})[t]||t,bt=async()=>{if(confirm("È˜tergi istoricul conversaÈ›iei? (Se va salva Ã®n sistem pentru admin)"))try{const t=T.filter(r=>r.role!=="assistant"||r.content!=="BunÄƒ! Sunt asistentul tÄƒu AI. Cu ce te pot ajuta?");t.length>0&&await _e(f(d,"aiConversations"),{userId:l.uid,userEmail:l.email,userName:G?.nume||l.displayName||"Unknown",conversationHistory:t,clearedAt:_(),messageCount:t.length,type:"cleared_by_user"}),k([{role:"assistant",content:"BunÄƒ! Sunt asistentul tÄƒu AI. Cu ce te pot ajuta?"}]),localStorage.removeItem("chat_history")}catch(t){console.error("Error saving conversation:",t),k([{role:"assistant",content:"BunÄƒ! Sunt asistentul tÄƒu AI. Cu ce te pot ajuta?"}]),localStorage.removeItem("chat_history")}};return e.jsxs("div",{className:"home-clean",children:[e.jsx("div",{className:`sidebar-left ${We?"open":""}`,ref:Ye,onMouseEnter:()=>fe(!0),onMouseLeave:()=>fe(!1),children:e.jsxs("div",{className:"sidebar-content",children:[e.jsx("div",{className:"sidebar-header",children:e.jsx("h3",{children:"Meniu"})}),e.jsxs("nav",{className:"sidebar-nav",children:[e.jsxs("button",{onClick:()=>{y("dashboard"),u("/home")},className:`nav-item ${x==="dashboard"?"active":""}`,children:[e.jsx("span",{className:"nav-icon",children:"ğŸ "}),e.jsx("span",{className:"nav-text",children:"AcasÄƒ"})]}),e.jsxs("button",{onClick:()=>u("/evenimente"),className:"nav-item",children:[e.jsx("span",{className:"nav-icon",children:"ğŸ“…"}),e.jsx("span",{className:"nav-text",children:"Evenimente"})]}),e.jsxs("button",{onClick:()=>u("/disponibilitate"),className:"nav-item",children:[e.jsx("span",{className:"nav-icon",children:"ğŸ—“ï¸"}),e.jsx("span",{className:"nav-text",children:"Disponibilitate"})]}),e.jsxs("button",{onClick:()=>u("/salarizare"),className:"nav-item",children:[e.jsx("span",{className:"nav-icon",children:"ğŸ’°"}),e.jsx("span",{className:"nav-text",children:"Salarizare"})]}),e.jsxs("button",{onClick:()=>u("/soferi"),className:"nav-item",children:[e.jsx("span",{className:"nav-icon",children:"ğŸš—"}),e.jsx("span",{className:"nav-text",children:"È˜oferi"})]}),K&&l?.email==="ursache.andrei1995@gmail.com"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{borderTop:"1px solid #334155",margin:"0.5rem 0",opacity:.3}}),e.jsxs("button",{onClick:()=>y("admin-kyc"),className:`nav-item nav-item-admin ${x==="admin-kyc"?"active":""}`,children:[e.jsx("span",{className:"nav-icon",children:"ğŸ‘¥"}),e.jsx("span",{className:"nav-text",children:"Admin KYC"})]}),e.jsxs("button",{onClick:()=>y("admin-conversations"),className:`nav-item ${x==="admin-conversations"?"active":""}`,children:[e.jsx("span",{className:"nav-icon",children:"ğŸ’¬"}),e.jsx("span",{className:"nav-text",children:"ConversaÈ›ii AI"})]}),e.jsxs("button",{onClick:()=>u("/chat-clienti"),className:"nav-item",children:[e.jsx("span",{className:"nav-icon",children:"ğŸ“±"}),e.jsx("span",{className:"nav-text",children:"Chat Clienti"})]}),e.jsxs("button",{onClick:()=>u("/centrala-telefonica"),className:"nav-item",children:[e.jsx("span",{className:"nav-icon",children:"ğŸ“"}),e.jsx("span",{className:"nav-text",children:"Centrala TelefonicÄƒ"})]}),e.jsxs("button",{onClick:()=>{ve(!1),y("dashboard")},className:"nav-item nav-item-exit-admin",style:{background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)"},children:[e.jsx("span",{className:"nav-icon",children:"ğŸšª"}),e.jsx("span",{className:"nav-text",children:"IeÈ™i din Admin"})]})]}),N&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{borderTop:"1px solid #10b981",margin:"0.5rem 0",opacity:.5}}),e.jsxs("button",{onClick:()=>y("gm-conversations"),className:`nav-item ${x==="gm-conversations"?"active":""}`,style:{borderLeft:"3px solid #10b981"},children:[e.jsx("span",{className:"nav-icon",children:"ğŸ’¬"}),e.jsx("span",{className:"nav-text",children:"ConversaÈ›ii AI"})]}),e.jsxs("button",{onClick:()=>y("gm-overview"),className:`nav-item ${x==="gm-overview"?"active":""}`,style:{borderLeft:"3px solid #10b981"},children:[e.jsx("span",{className:"nav-icon",children:"ğŸ®"}),e.jsx("span",{className:"nav-text",children:"GM Overview"})]}),e.jsxs("button",{onClick:()=>y("gm-analytics"),className:`nav-item ${x==="gm-analytics"?"active":""}`,style:{borderLeft:"3px solid #10b981"},children:[e.jsx("span",{className:"nav-icon",children:"ğŸ“Š"}),e.jsx("span",{className:"nav-text",children:"Analytics"})]}),e.jsxs("button",{onClick:()=>{ie(!1),y("dashboard")},className:"nav-item",style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)"},children:[e.jsx("span",{className:"nav-icon",children:"ğŸšª"}),e.jsx("span",{className:"nav-text",children:"IeÈ™i din GM"})]})]}),l?.email==="ursache.andrei1995@gmail.com"&&e.jsxs("button",{onClick:()=>u("/settings"),className:"nav-item",children:[e.jsx("span",{className:"nav-icon",children:"âš™ï¸"}),e.jsx("span",{className:"nav-text",children:"SetÄƒri"})]})]})]})}),e.jsx("nav",{className:"navbar-clean",children:e.jsxs("div",{className:"nav-content",children:[e.jsx("h1",{children:"SuperParty"}),e.jsxs("div",{className:"nav-right",children:[K&&l?.email==="ursache.andrei1995@gmail.com"&&e.jsx("span",{style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"600",marginRight:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"ğŸ‘¨â€ğŸ’¼ Mod Admin"}),N&&l?.email==="ursache.andrei1995@gmail.com"&&e.jsx("span",{style:{padding:"0.5rem 1rem",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"600",marginRight:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"ğŸ® Mod GM"}),e.jsx("button",{className:"theme-toggle-nav",onClick:qe,title:"SchimbÄƒ tema",children:ee==="dark"?"â˜€ï¸":"ğŸŒ™"}),e.jsx("span",{className:"user-email",children:l?.email}),e.jsx("button",{className:"btn-signout",onClick:ot,children:"Sign out"})]})]})}),e.jsx("div",{className:"home-content-clean",children:e.jsx("div",{className:"dashboard-container",children:x==="admin-kyc"&&K?e.jsxs("div",{children:[e.jsx("h2",{style:{marginBottom:"2rem",fontSize:"1.875rem",fontWeight:"700"},children:"ğŸ‘¥ Admin KYC - AprobÄƒri Pending"}),e.jsx("button",{onClick:pe,style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600",marginBottom:"1.5rem"},children:"ğŸ”„ ReÃ®mprospÄƒteazÄƒ"}),Se?e.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Se Ã®ncarcÄƒ cererile KYC..."})]}):be.length===0?e.jsx("p",{style:{padding:"2rem",background:"#1e293b",borderRadius:"0.5rem",textAlign:"center"},children:"âœ… Nu existÄƒ cereri KYC pending"}):e.jsx("div",{style:{display:"grid",gap:"1rem"},children:be.map(t=>e.jsxs("div",{style:{padding:"1.5rem",background:"#1e293b",borderRadius:"0.5rem",border:"1px solid #334155"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"1rem"},children:[e.jsxs("div",{children:[e.jsxs("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"0.5rem"},children:[t.firstName," ",t.lastName]}),e.jsxs("p",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:["ğŸ“§ ",t.email]}),e.jsxs("p",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:["ğŸ“± ",t.phone||"N/A"]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{onClick:()=>at(t.id),style:{padding:"0.5rem 1rem",background:"#10b981",color:"white",border:"none",borderRadius:"0.375rem",cursor:"pointer",fontWeight:"600"},children:"âœ… AprobÄƒ"}),e.jsx("button",{onClick:()=>st(t.id),style:{padding:"0.5rem 1rem",background:"#ef4444",color:"white",border:"none",borderRadius:"0.375rem",cursor:"pointer",fontWeight:"600"},children:"âŒ Respinge"})]})]}),t.ciUrl&&e.jsxs("div",{style:{marginTop:"1rem"},children:[e.jsx("p",{style:{fontSize:"0.875rem",color:"#94a3b8",marginBottom:"0.5rem"},children:"ğŸ“„ Documente:"}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[t.ciUrl&&e.jsx("a",{href:t.ciUrl,target:"_blank",rel:"noopener noreferrer",style:{padding:"0.5rem 1rem",background:"#334155",borderRadius:"0.375rem",fontSize:"0.875rem",textDecoration:"none",color:"white"},children:"ğŸ†” CI"}),t.permisUrl&&e.jsx("a",{href:t.permisUrl,target:"_blank",rel:"noopener noreferrer",style:{padding:"0.5rem 1rem",background:"#334155",borderRadius:"0.375rem",fontSize:"0.875rem",textDecoration:"none",color:"white"},children:"ğŸš— Permis"}),t.cazierUrl&&e.jsx("a",{href:t.cazierUrl,target:"_blank",rel:"noopener noreferrer",style:{padding:"0.5rem 1rem",background:"#334155",borderRadius:"0.375rem",fontSize:"0.875rem",textDecoration:"none",color:"white"},children:"ğŸ“‹ Cazier"})]})]})]},t.id))})]}):x==="admin-conversations"&&K?e.jsxs("div",{children:[e.jsx("h2",{style:{marginBottom:"2rem",fontSize:"1.875rem",fontWeight:"700"},children:"ğŸ’¬ ConversaÈ›ii AI - Istoric"}),e.jsx("button",{onClick:rt,style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600",marginBottom:"1.5rem"},children:"ğŸ”„ ReÃ®mprospÄƒteazÄƒ"}),Se?e.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Se Ã®ncarcÄƒ conversaÈ›iile..."})]}):ye.length===0?e.jsx("p",{style:{padding:"2rem",background:"#1e293b",borderRadius:"0.5rem",textAlign:"center"},children:"ğŸ“­ Nu existÄƒ conversaÈ›ii salvate"}):e.jsx("div",{style:{display:"grid",gap:"1rem"},children:ye.map(t=>e.jsxs("div",{style:{padding:"1.5rem",background:"#1e293b",borderRadius:"0.5rem",border:"1px solid #334155"},children:[e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"0.5rem"},children:t.userName||"Unknown User"}),e.jsxs("p",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:["ğŸ“§ ",t.userEmail]}),e.jsxs("p",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:["ğŸ• ",t.clearedAt?.toDate?.()?.toLocaleString("ro-RO")||t.timestamp?.toDate?.()?.toLocaleString("ro-RO")||"N/A"]}),e.jsxs("p",{style:{color:"#94a3b8",fontSize:"0.875rem"},children:["ğŸ’¬ ",t.messageCount||t.conversationHistory?.length||0," mesaje"]})]}),t.conversationHistory&&t.conversationHistory.length>0&&e.jsxs("details",{style:{marginTop:"1rem"},children:[e.jsx("summary",{style:{cursor:"pointer",color:"#667eea",fontWeight:"600"},children:"Vezi conversaÈ›ia"}),e.jsx("div",{style:{marginTop:"1rem",maxHeight:"300px",overflowY:"auto",padding:"1rem",background:"#0f172a",borderRadius:"0.375rem"},children:t.conversationHistory.map((r,a)=>e.jsxs("div",{style:{marginBottom:"1rem",paddingBottom:"1rem",borderBottom:a<t.conversationHistory.length-1?"1px solid #334155":"none"},children:[e.jsx("p",{style:{fontWeight:"600",color:r.role==="user"?"#10b981":"#667eea",marginBottom:"0.5rem"},children:r.role==="user"?"ğŸ‘¤ User":"ğŸ¤– AI"}),e.jsx("p",{style:{fontSize:"0.875rem",whiteSpace:"pre-wrap"},children:r.content})]},a))})]})]},t.id))})]}):x==="gm-overview"&&N?e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[e.jsx("h2",{style:{fontSize:"1.875rem",fontWeight:"700"},children:"ğŸ® GM Overview - Control Panel"}),e.jsx("button",{onClick:Be,disabled:U,style:{padding:"0.75rem 1.5rem",background:"#10b981",color:"white",border:"none",borderRadius:"0.5rem",cursor:U?"not-allowed":"pointer",fontSize:"1rem",fontWeight:"600",opacity:U?.6:1},children:U?"â³ Se Ã®ncarcÄƒ...":"ğŸ”„ ReÃ®mprospÄƒteazÄƒ"})]}),U?e.jsx("div",{style:{textAlign:"center",padding:"3rem",fontSize:"1.2rem",color:"#64748b"},children:"â³ Se Ã®ncarcÄƒ datele..."}):e.jsxs(e.Fragment,{children:[I?e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"600",marginBottom:"1rem"},children:"ğŸ“Š Metrici de PerformanÈ›Äƒ"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[e.jsxs("div",{style:{background:"#1e293b",padding:"1.5rem",borderRadius:"0.75rem",border:"1px solid #334155"},children:[e.jsx("div",{style:{fontSize:"0.875rem",color:"#94a3b8",marginBottom:"0.5rem"},children:"ğŸ¯ AcurateÈ›e"}),e.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#10b981"},children:[I.accuracy?.toFixed(1)||0,"%"]}),e.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginTop:"0.5rem"},children:"ÈšintÄƒ: â‰¥85%"})]}),e.jsxs("div",{style:{background:"#1e293b",padding:"1.5rem",borderRadius:"0.75rem",border:"1px solid #334155"},children:[e.jsx("div",{style:{fontSize:"0.875rem",color:"#94a3b8",marginBottom:"0.5rem"},children:"âš¡ Timp RÄƒspuns"}),e.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#3b82f6"},children:[I.avgResponseTime?.toFixed(0)||0,"ms"]}),e.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginTop:"0.5rem"},children:"ÈšintÄƒ: â‰¤3000ms"})]}),e.jsxs("div",{style:{background:"#1e293b",padding:"1.5rem",borderRadius:"0.75rem",border:"1px solid #334155"},children:[e.jsx("div",{style:{fontSize:"0.875rem",color:"#94a3b8",marginBottom:"0.5rem"},children:"âŒ RatÄƒ Erori"}),e.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#ef4444"},children:[I.errorRate?.toFixed(1)||0,"%"]}),e.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginTop:"0.5rem"},children:"ÈšintÄƒ: â‰¤5%"})]}),e.jsxs("div",{style:{background:"#1e293b",padding:"1.5rem",borderRadius:"0.75rem",border:"1px solid #334155"},children:[e.jsx("div",{style:{fontSize:"0.875rem",color:"#94a3b8",marginBottom:"0.5rem"},children:"ğŸ“ˆ Total ValidÄƒri"}),e.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#8b5cf6"},children:I.totalValidations||0}),e.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginTop:"0.5rem"},children:"Ultimele 24h"})]})]}),e.jsxs("div",{style:{fontSize:"0.875rem",color:"#64748b",textAlign:"right"},children:["Ultima actualizare: ",I.timestamp?.toDate?.()?.toLocaleString("ro-RO")||"N/A"]})]}):e.jsxs("div",{style:{padding:"2rem",background:"#1e293b",borderRadius:"0.75rem",border:"1px solid #334155",textAlign:"center",marginBottom:"2rem"},children:[e.jsx("p",{style:{fontSize:"1.1rem",color:"#94a3b8"},children:"ğŸ“Š Nu existÄƒ date de performanÈ›Äƒ disponibile"}),e.jsx("p",{style:{fontSize:"0.875rem",color:"#64748b",marginTop:"0.5rem"},children:'ApasÄƒ "ReÃ®mprospÄƒteazÄƒ" pentru a Ã®ncÄƒrca datele'})]}),e.jsxs("div",{children:[e.jsxs("h3",{style:{fontSize:"1.5rem",fontWeight:"600",marginBottom:"1rem"},children:["ğŸš¨ Alerte Active (",oe.length,")"]}),oe.length===0?e.jsxs("div",{style:{padding:"2rem",background:"#1e293b",borderRadius:"0.75rem",border:"1px solid #334155",textAlign:"center"},children:[e.jsx("p",{style:{fontSize:"1.1rem",color:"#10b981"},children:"âœ… Nu existÄƒ alerte active"}),e.jsx("p",{style:{fontSize:"0.875rem",color:"#64748b",marginTop:"0.5rem"},children:"Toate sistemele funcÈ›ioneazÄƒ normal"})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:oe.map(t=>e.jsx("div",{style:{padding:"1.5rem",background:"#1e293b",borderRadius:"0.75rem",border:`2px solid ${t.severity==="critical"?"#ef4444":t.severity==="warning"?"#f59e0b":"#3b82f6"}`,borderLeft:`6px solid ${t.severity==="critical"?"#ef4444":t.severity==="warning"?"#f59e0b":"#3b82f6"}`},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[e.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"600",padding:"0.25rem 0.75rem",borderRadius:"0.25rem",background:t.severity==="critical"?"#ef4444":t.severity==="warning"?"#f59e0b":"#3b82f6",color:"white"},children:t.severity?.toUpperCase()}),e.jsx("span",{style:{fontSize:"0.875rem",color:"#94a3b8"},children:t.type})]}),e.jsx("p",{style:{fontSize:"1rem",color:"#e2e8f0",marginBottom:"0.5rem"},children:t.message}),e.jsxs("p",{style:{fontSize:"0.75rem",color:"#64748b"},children:["ğŸ• ",t.createdAt?.toDate?.()?.toLocaleString("ro-RO")||"N/A"]})]}),e.jsx("button",{onClick:()=>nt(t.id),style:{padding:"0.5rem 1rem",background:"#10b981",color:"white",border:"none",borderRadius:"0.375rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",whiteSpace:"nowrap"},children:"âœ… RezolvÄƒ"})]})},t.id))})]})]})]}):x==="gm-conversations"&&N?e.jsxs("div",{style:{display:"flex",height:"calc(100vh - 200px)",gap:"1rem"},children:[e.jsxs("div",{style:{width:"300px",background:"#1e293b",borderRadius:"0.75rem",padding:"1rem",overflowY:"auto",border:"1px solid #334155"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600"},children:"ğŸ‘¥ Useri"}),e.jsx("button",{onClick:Ie,disabled:F,style:{padding:"0.5rem",background:"#10b981",color:"white",border:"none",borderRadius:"0.375rem",cursor:F?"not-allowed":"pointer",fontSize:"0.875rem"},children:F?"â³":"ğŸ”„"})]}),F?e.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#64748b"},children:"â³ Se Ã®ncarcÄƒ..."}):ce.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#64748b",fontSize:"0.875rem"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"ğŸ“­"}),e.jsx("div",{style:{marginBottom:"0.5rem"},children:"Niciun user gÄƒsit"}),e.jsx("div",{style:{fontSize:"0.75rem",color:"#475569"},children:"ConversaÈ›iile apar aici dupÄƒ ce userii vorbesc cu AI-ul"})]}):ce.map(t=>e.jsxs("div",{onClick:()=>Ze(t),style:{padding:"0.75rem",marginBottom:"0.5rem",background:W?.userId===t.userId?"#334155":"#0f172a",borderRadius:"0.5rem",cursor:"pointer",border:W?.userId===t.userId?"2px solid #10b981":"1px solid #1e293b",transition:"all 0.2s"},children:[e.jsx("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:t.userName}),e.jsx("div",{style:{fontSize:"0.75rem",color:"#94a3b8",marginBottom:"0.25rem"},children:t.userEmail}),e.jsxs("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:["ğŸ’¬ ",t.conversations.length," conversaÈ›ii"]})]},t.userId))]}),e.jsx("div",{style:{flex:1,background:"#1e293b",borderRadius:"0.75rem",padding:"1.5rem",overflowY:"auto",border:"1px solid #334155"},children:W?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:"2rem",paddingBottom:"1rem",borderBottom:"1px solid #334155"},children:[e.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"0.5rem"},children:["ğŸ’¬ ConversaÈ›ii: ",W.userName]}),e.jsxs("div",{style:{fontSize:"0.875rem",color:"#94a3b8"},children:[W.userEmail," â€¢ ",ze.length," conversaÈ›ii"]})]}),(()=>{const t={};return ze.forEach(r=>{const a=r.timestamp?.toLocaleDateString("ro-RO",{day:"2-digit",month:"2-digit",year:"numeric"})||"Data necunoscutÄƒ";t[a]||(t[a]=[]),t[a].push(r)}),Object.entries(t).map(([r,a])=>e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsxs("div",{style:{fontSize:"1.125rem",fontWeight:"600",marginBottom:"1rem",color:"#10b981",display:"flex",alignItems:"center",gap:"0.5rem"},children:["ğŸ“… ",r]}),a.map(s=>{const i=M[s.id];return e.jsxs("div",{style:{background:"#0f172a",padding:"1rem",borderRadius:"0.5rem",marginBottom:"1rem",border:i?"2px solid #10b981":"1px solid #1e293b",position:"relative"},children:[i&&e.jsx("div",{style:{position:"absolute",top:"0.5rem",right:"0.5rem",background:"#10b981",color:"white",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.75rem",fontWeight:"600"},children:"âœ“ Corectat"}),e.jsxs("div",{style:{fontSize:"0.75rem",color:"#64748b",marginBottom:"0.5rem"},children:["ğŸ• ",s.timestamp?.toLocaleTimeString("ro-RO",{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("div",{style:{marginBottom:"0.75rem"},children:[e.jsx("div",{style:{fontSize:"0.875rem",color:"#94a3b8",marginBottom:"0.25rem"},children:"â“ User:"}),e.jsx("div",{style:{color:"#e2e8f0"},children:s.userMessage})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.875rem",color:"#94a3b8",marginBottom:"0.25rem"},children:"ğŸ¤– AI:"}),e.jsx("div",{style:{color:"#cbd5e1"},children:s.aiResponse})]}),e.jsxs("div",{style:{marginTop:"0.75rem",display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[e.jsx("button",{onClick:()=>et(s),style:{padding:"0.5rem 1rem",background:i?"#0ea5e9":"#10b981",color:"white",border:"none",borderRadius:"0.375rem",cursor:"pointer",fontSize:"0.875rem"},children:i?"ğŸ‘ï¸ Vezi/EditeazÄƒ CorecÈ›ia":"âœï¸ CorecteazÄƒ"}),e.jsx("button",{style:{padding:"0.5rem 1rem",background:"#334155",color:"white",border:"none",borderRadius:"0.375rem",cursor:"pointer",fontSize:"0.875rem"},children:"ğŸ‘ Bun"}),e.jsx("button",{style:{padding:"0.5rem 1rem",background:"#334155",color:"white",border:"none",borderRadius:"0.375rem",cursor:"pointer",fontSize:"0.875rem"},children:"ğŸ‘ Prost"})]})]},s.id)})]},r))})()]}):e.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#64748b"},children:[e.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"ğŸ‘ˆ"}),e.jsx("div",{style:{fontSize:"1.2rem"},children:"SelecteazÄƒ un user din stÃ¢nga"})]})})]}):x==="gm-analytics"&&N?e.jsxs("div",{children:[e.jsx("h2",{style:{marginBottom:"2rem",fontSize:"1.875rem",fontWeight:"700"},children:"ğŸ“Š GM Analytics - Statistici Avansate"}),e.jsx("p",{style:{fontSize:"1.2rem",color:"#10b981"},children:"Analize detaliate È™i rapoarte pentru Game Master."}),e.jsx("p",{style:{marginTop:"1rem",padding:"1rem",background:"#1e293b",borderRadius:"0.5rem",borderLeft:"4px solid #10b981"},children:"ğŸš§ ConÈ›inut GM Analytics Ã®n curs de integrare..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("h2",{style:{marginBottom:"2rem",fontSize:"1.875rem",fontWeight:"700"},children:["Bine ai venit, ",G?.nume||l?.email,"!"]}),Qe?e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Se Ã®ncarcÄƒ statisticile..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"dashboard-stats",children:[e.jsxs("div",{className:"stat-card",onClick:()=>u("/evenimente"),children:[e.jsx("h3",{children:"Evenimente Total"}),e.jsx("p",{children:R.evenimenteTotal}),e.jsx("span",{className:"stat-subtitle",children:"Vezi toate â†’"})]}),e.jsxs("div",{className:"stat-card",onClick:()=>u("/evenimente"),children:[e.jsx("h3",{children:"Evenimente Nealocate"}),e.jsx("p",{children:R.evenimenteNealocate}),e.jsx("span",{className:"stat-subtitle",children:"AlocÄƒ cu AI â†’"})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("h3",{children:"Staff Activ"}),e.jsx("p",{children:R.staffTotal}),e.jsx("span",{className:"stat-subtitle",children:"membri aprobaÈ›i"})]})]}),e.jsxs("div",{style:{marginTop:"3rem"},children:[e.jsx("h3",{style:{marginBottom:"1.5rem",fontSize:"1.5rem",fontWeight:"600"},children:"AcÈ›iuni Rapide"}),e.jsxs("div",{className:"quick-actions",children:[e.jsxs("button",{onClick:()=>u("/evenimente"),className:"action-card",children:[e.jsx("span",{className:"action-icon",children:"ğŸ“…"}),e.jsx("span",{className:"action-title",children:"Evenimente"}),e.jsx("span",{className:"action-subtitle",children:"Vezi toate evenimentele"})]}),e.jsxs("button",{onClick:()=>ne(!0),className:"action-card",children:[e.jsx("span",{className:"action-icon",children:"ğŸ¤–"}),e.jsx("span",{className:"action-title",children:"Alocare AI"}),e.jsx("span",{className:"action-subtitle",children:"Cere AI-ului sÄƒ aloce"})]}),e.jsxs("button",{onClick:()=>u("/disponibilitate"),className:"action-card",children:[e.jsx("span",{className:"action-icon",children:"ğŸ—“ï¸"}),e.jsx("span",{className:"action-title",children:"Disponibilitate"}),e.jsx("span",{className:"action-subtitle",children:"MarcheazÄƒ cÃ¢nd eÈ™ti liber"})]}),e.jsxs("button",{onClick:()=>u("/soferi"),className:"action-card",children:[e.jsx("span",{className:"action-icon",children:"ğŸš—"}),e.jsx("span",{className:"action-title",children:"È˜oferi"}),e.jsx("span",{className:"action-subtitle",children:"Management È™oferi"})]})]})]})]})]})})}),e.jsxs("div",{className:"ai-chat-container",children:[xe&&e.jsxs("div",{className:"chat-window",children:[e.jsxs("div",{className:"chat-header",children:[e.jsx("h4",{children:"ğŸ¤– Asistent AI"}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{className:"chat-clear-btn",onClick:bt,title:"È˜terge istoric",children:"ğŸ—‘ï¸"}),e.jsx("button",{className:"chat-close",onClick:()=>ne(!1),children:"âœ•"})]})]}),e.jsxs("div",{className:"chat-messages",ref:J,children:[T.map((t,r)=>e.jsx("div",{className:`chat-message ${t.role==="user"?"user":"bot"}`,children:t.content},r)),X&&e.jsx("div",{className:"chat-message bot",children:e.jsxs("div",{className:"typing-indicator",children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]})})]}),A.length>0&&e.jsx("div",{className:"chat-image-preview",children:A.map((t,r)=>e.jsxs("div",{className:"preview-item",children:[e.jsx("img",{src:t.preview,alt:`Preview ${r+1}`}),e.jsxs("span",{className:"image-size",children:[(t.size/1024/1024).toFixed(2)," MB"]}),e.jsx("button",{className:"remove-image",onClick:()=>pt(r),children:"âœ•"})]},r))}),e.jsxs("div",{className:"chat-input-container",children:[e.jsx("input",{type:"file",ref:Ee,accept:"image/jpeg,image/png,image/webp",multiple:!0,onChange:ut,style:{display:"none"}}),e.jsx("button",{className:"chat-image-btn",onClick:()=>Ee.current?.click(),disabled:X||A.length>=3,title:"ÃncarcÄƒ imagine (max 3MB)",children:"ğŸ“·"}),e.jsx("button",{className:"chat-voice-btn",onClick:mt,disabled:Re,title:"ComandÄƒ vocalÄƒ",children:Re?"ğŸ”´":"ğŸ¤"}),e.jsx("input",{type:"text",placeholder:"Scrie un mesaj sau foloseÈ™te vocea...",className:"chat-input",value:Q,onChange:t=>me(t.target.value),onKeyPress:t=>t.key==="Enter"&&Me(),disabled:X}),e.jsx("button",{className:"chat-send",onClick:Me,disabled:X||!Q.trim()&&A.length===0,children:"â¤"})]})]}),e.jsx("button",{className:"ai-chat-button",onClick:()=>ne(!xe),children:"ğŸ¤–"}),Fe&&j&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"1rem"},children:e.jsxs("div",{style:{background:"#1e293b",borderRadius:"1rem",padding:"2rem",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflowY:"auto",border:"1px solid #334155"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"700"},children:M[j.id]?"ğŸ‘ï¸ Vezi/EditeazÄƒ CorecÈ›ia":"âœï¸ CorecteazÄƒ RÄƒspuns AI"}),M[j.id]&&e.jsxs("div",{style:{fontSize:"0.75rem",color:"#10b981",marginTop:"0.25rem"},children:["âœ“ Corectat la ",M[j.id].correctedAt?.toLocaleString("ro-RO")]})]}),e.jsx("button",{onClick:()=>Y(!1),style:{background:"transparent",border:"none",color:"#94a3b8",fontSize:"1.5rem",cursor:"pointer",padding:"0.5rem"},children:"âœ•"})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",fontSize:"0.875rem",color:"#94a3b8",marginBottom:"0.5rem"},children:"â“ Ãntrebarea User-ului:"}),e.jsx("div",{style:{background:"#0f172a",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #1e293b",color:"#e2e8f0"},children:j.userMessage})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",fontSize:"0.875rem",color:"#94a3b8",marginBottom:"0.5rem"},children:"ğŸ¤– RÄƒspunsul AI (Original):"}),e.jsx("div",{style:{background:"#0f172a",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #1e293b",color:"#cbd5e1"},children:j.aiResponse})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",fontSize:"0.875rem",color:"#94a3b8",marginBottom:"0.5rem"},children:"âœ… RÄƒspunsul Corect (Tu scrii):"}),e.jsx("textarea",{value:w,onChange:t=>H(t.target.value),placeholder:"Scrie rÄƒspunsul corect aici...",style:{width:"100%",minHeight:"120px",background:"#0f172a",border:"1px solid #334155",borderRadius:"0.5rem",padding:"1rem",color:"#e2e8f0",fontSize:"1rem",fontFamily:"inherit",resize:"vertical"}})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",fontSize:"0.875rem",color:"#94a3b8",marginBottom:"0.5rem"},children:"ğŸ“ Prompt pentru AI (OpÈ›ional - pentru Ã®nvÄƒÈ›are):"}),e.jsx("textarea",{value:le,onChange:t=>q(t.target.value),placeholder:"Ex: CÃ¢nd user Ã®ntreabÄƒ despre weekend, explicÄƒ-i cum sÄƒ seteze disponibilitatea Ã®n app...",style:{width:"100%",minHeight:"80px",background:"#0f172a",border:"1px solid #334155",borderRadius:"0.5rem",padding:"1rem",color:"#e2e8f0",fontSize:"0.875rem",fontFamily:"inherit",resize:"vertical"}}),e.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b",marginTop:"0.5rem"},children:"ğŸ’¡ Acest prompt va fi salvat Ã®n Firebase È™i AI va Ã®nvÄƒÈ›a din el"})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[e.jsx("button",{onClick:()=>Y(!1),disabled:B,style:{padding:"0.75rem 1.5rem",background:"#334155",color:"white",border:"none",borderRadius:"0.5rem",cursor:B?"not-allowed":"pointer",fontSize:"1rem",fontWeight:"500"},children:"âŒ AnuleazÄƒ"}),e.jsx("button",{onClick:tt,disabled:B||!w.trim(),style:{padding:"0.75rem 1.5rem",background:B||!w.trim()?"#64748b":"#10b981",color:"white",border:"none",borderRadius:"0.5rem",cursor:B||!w.trim()?"not-allowed":"pointer",fontSize:"1rem",fontWeight:"500"},children:B?"â³ Se salveazÄƒ...":"ğŸ’¾ SalveazÄƒ CorecÈ›ie"})]})]})})]})]})}export{Bt as default};
