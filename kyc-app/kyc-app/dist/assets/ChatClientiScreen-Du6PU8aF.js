import{j as t,a as C}from"./index-C-GM3RmL.js";import{b as a,u as v}from"./react-vendor-BCFq-EBz.js";import{l as k}from"./index-CG1tBJBN.js";import"./firebase-CZFSqwcK.js";const S="https://whats-upp-production.up.railway.app";function W(){const[d,h]=a.useState([]),[o,g]=a.useState(!0),[p,l]=a.useState(!1),[s,i]=a.useState(""),[c,u]=a.useState("");a.useEffect(()=>{m();const e=setInterval(()=>{m()},3e3);return()=>clearInterval(e)},[]);const m=async()=>{try{const n=await(await fetch(`${S}/api/whatsapp/accounts`)).json();console.log("ğŸ“± WhatsApp accounts loaded:",n.accounts),n.success&&(h(n.accounts),n.accounts.forEach(x=>{console.log(`Account ${x.name}: status=${x.status}, hasQR=${!!x.qrCode}`)}))}catch(e){console.error("âŒ Error loading accounts:",e)}finally{g(!1)}},b=async()=>{if(!s.trim()){alert("Introdu un nume pentru cont!");return}try{console.log("ğŸ”„ Adding account:",s,"phone:",c);const e=await fetch(`${S}/api/whatsapp/add-account`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,phone:c||void 0})});if(console.log("ğŸ“¡ Response status:",e.status),!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const n=await e.json();if(console.log("ğŸ“¦ Response data:",n),n.success)l(!1),i(""),u(""),m(),alert("âœ… Cont adÄƒugat! AÈ™teaptÄƒ QR code"+(c?" È™i pairing code":"")+"...");else throw new Error(n.error||"Eroare necunoscutÄƒ")}catch(e){console.error("âŒ Error adding account:",e),alert("âŒ Eroare la adÄƒugarea contului: "+e.message)}},y=async e=>{if(confirm("Sigur vrei sÄƒ deconectezi acest cont?"))try{console.log("ğŸ”Œ Disconnecting account:",e);const n=await fetch(`${S}/api/whatsapp/disconnect/${e}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const x=await n.json();if(console.log("ğŸ“¦ Disconnect response:",x),x.success)m(),alert("âœ… Cont deconectat cu succes!");else throw new Error(x.error||"Eroare necunoscutÄƒ")}catch(n){console.error("âŒ Error disconnecting account:",n),alert("âŒ Eroare la deconectare: "+n.message)}},f=e=>{switch(e){case"connected":return"#10b981";case"qr_ready":return"#f59e0b";case"connecting":return"#3b82f6";default:return"#6b7280"}},r=e=>{switch(e){case"connected":return"âœ… Conectat";case"qr_ready":return"ğŸ“± ScaneazÄƒ QR";case"connecting":return"ğŸ”„ Se conecteazÄƒ...";default:return"â¸ï¸ Deconectat"}};return o?t.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#9ca3af"},children:"Se Ã®ncarcÄƒ..."}):t.jsxs("div",{style:{padding:"1rem",maxWidth:"100%",overflowX:"hidden"},children:[t.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<768?"column":"row",justifyContent:"space-between",alignItems:window.innerWidth<768?"stretch":"center",marginBottom:"1.5rem",gap:"1rem"},children:[t.jsxs("h2",{style:{margin:0,background:"linear-gradient(135deg, #00f5ff 0%, #00ff88 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontSize:window.innerWidth<768?"1.5rem":"2rem",fontWeight:"800",textShadow:"0 0 20px rgba(0, 245, 255, 0.5)"},children:["ğŸ“± Conturi WhatsApp (",d.length,")"]}),t.jsx("button",{onClick:()=>l(!0),style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #00f5ff 0%, #00ff88 100%)",color:"#0a0a0a",border:"2px solid #00f5ff",borderRadius:"12px",cursor:"pointer",fontWeight:"700",fontSize:window.innerWidth<768?"1rem":"1.1rem",boxShadow:"0 0 20px rgba(0, 245, 255, 0.6), inset 0 0 10px rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",width:window.innerWidth<768?"100%":"auto"},onMouseOver:e=>{e.target.style.transform="scale(1.05)",e.target.style.boxShadow="0 0 30px rgba(0, 245, 255, 0.8), inset 0 0 15px rgba(255, 255, 255, 0.3)"},onMouseOut:e=>{e.target.style.transform="scale(1)",e.target.style.boxShadow="0 0 20px rgba(0, 245, 255, 0.6), inset 0 0 10px rgba(255, 255, 255, 0.2)"},children:"+ AdaugÄƒ Cont"})]}),d.length===0?t.jsxs("div",{style:{padding:"3rem",textAlign:"center",background:"rgba(0, 245, 255, 0.05)",border:"2px solid rgba(0, 245, 255, 0.3)",borderRadius:"16px",color:"#00f5ff",boxShadow:"0 0 30px rgba(0, 245, 255, 0.2)"},children:[t.jsx("p",{style:{fontSize:"1.125rem",marginBottom:"0.5rem",fontWeight:"600"},children:"ğŸ“­ Niciun cont WhatsApp"}),t.jsx("p",{style:{color:"#00ff88"},children:"AdaugÄƒ primul cont pentru a Ã®ncepe!"})]}):t.jsx("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<768?"1fr":"repeat(auto-fill, minmax(350px, 1fr))",gap:"1.5rem"},children:d.map(e=>t.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(0, 10, 20, 0.9) 0%, rgba(0, 20, 40, 0.9) 100%)",borderRadius:"16px",padding:"1.5rem",border:"2px solid rgba(0, 245, 255, 0.3)",boxShadow:"0 0 20px rgba(0, 245, 255, 0.2), inset 0 0 20px rgba(0, 245, 255, 0.05)",transition:"all 0.3s ease"},onMouseOver:n=>{n.currentTarget.style.borderColor="rgba(0, 245, 255, 0.6)",n.currentTarget.style.boxShadow="0 0 30px rgba(0, 245, 255, 0.4), inset 0 0 30px rgba(0, 245, 255, 0.1)",n.currentTarget.style.transform="translateY(-5px)"},onMouseOut:n=>{n.currentTarget.style.borderColor="rgba(0, 245, 255, 0.3)",n.currentTarget.style.boxShadow="0 0 20px rgba(0, 245, 255, 0.2), inset 0 0 20px rgba(0, 245, 255, 0.05)",n.currentTarget.style.transform="translateY(0)"},children:[t.jsx("div",{style:{display:"flex",flexDirection:window.innerWidth<768?"column":"row",justifyContent:"space-between",alignItems:(window.innerWidth<768,"start"),marginBottom:"1rem",gap:"0.5rem"},children:t.jsxs("div",{style:{width:"100%"},children:[t.jsx("h3",{style:{margin:"0 0 0.5rem 0",background:"linear-gradient(135deg, #00f5ff 0%, #00ff88 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontSize:window.innerWidth<768?"1.1rem":"1.3rem",fontWeight:"700"},children:e.name}),t.jsx("div",{style:{display:"inline-block",padding:"0.4rem 1rem",background:`linear-gradient(135deg, ${f(e.status)}40 0%, ${f(e.status)}20 100%)`,color:f(e.status),border:`2px solid ${f(e.status)}`,borderRadius:"8px",fontSize:"0.875rem",fontWeight:"700",boxShadow:`0 0 15px ${f(e.status)}40`,textTransform:"uppercase",letterSpacing:"0.5px"},children:r(e.status)})]})}),e.phone&&t.jsxs("p",{style:{margin:"0.5rem 0",color:"#00ff88",fontSize:"0.875rem",fontWeight:"500",textShadow:"0 0 10px rgba(0, 255, 136, 0.5)"},children:["ğŸ“ ",e.phone]}),e.qrCode&&(e.status==="qr_ready"||e.status==="reconnecting"||e.status==="logged_out")&&t.jsxs("div",{style:{marginTop:"1rem",textAlign:"center",padding:"1rem",background:"rgba(255, 165, 0, 0.05)",border:"2px solid rgba(255, 165, 0, 0.3)",borderRadius:"12px",boxShadow:"0 0 20px rgba(255, 165, 0, 0.2)"},children:[t.jsx("p",{style:{color:"#ffa500",fontSize:"1rem",marginBottom:"1rem",fontWeight:"700",textShadow:"0 0 10px rgba(255, 165, 0, 0.5)",textTransform:"uppercase",letterSpacing:"1px"},children:"ğŸ“± ScaneazÄƒ cu WhatsApp"}),t.jsx("img",{src:e.qrCode,alt:"QR Code",style:{width:window.innerWidth<768?"200px":"250px",height:window.innerWidth<768?"200px":"250px",margin:"0 auto",border:"3px solid #ffa500",borderRadius:"12px",padding:"0.5rem",background:"white",boxShadow:"0 0 30px rgba(255, 165, 0, 0.4)"}}),t.jsx("p",{style:{color:"#00ff88",fontSize:"0.75rem",marginTop:"0.75rem",fontWeight:"500"},children:"WhatsApp â†’ Settings â†’ Linked Devices â†’ Link a Device"}),e.pairingCode&&t.jsxs("div",{style:{marginTop:"1rem",padding:"1.5rem",background:"linear-gradient(135deg, rgba(138, 43, 226, 0.1) 0%, rgba(75, 0, 130, 0.1) 100%)",border:"2px solid rgba(138, 43, 226, 0.4)",borderRadius:"12px",boxShadow:"0 0 20px rgba(138, 43, 226, 0.3)"},children:[t.jsx("p",{style:{color:"#ba55d3",fontSize:"0.85rem",marginBottom:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px"},children:"SAU foloseÈ™te codul:"}),t.jsx("p",{style:{color:"#00f5ff",fontSize:window.innerWidth<768?"1.8rem":"2rem",fontWeight:"800",letterSpacing:"0.3em",margin:"1rem 0",fontFamily:"monospace",textShadow:"0 0 20px rgba(0, 245, 255, 0.6)",textAlign:"center"},children:e.pairingCode}),t.jsx("p",{style:{color:"#00ff88",fontSize:"0.75rem",marginTop:"0.75rem",fontWeight:"500"},children:"WhatsApp â†’ Settings â†’ Linked Devices â†’ Link with phone number"})]})]}),e.status==="connected"&&t.jsxs("div",{style:{marginTop:"1rem",padding:"1.5rem",background:"linear-gradient(135deg, rgba(0, 255, 136, 0.1) 0%, rgba(0, 245, 255, 0.1) 100%)",border:"2px solid rgba(0, 255, 136, 0.4)",borderRadius:"12px",textAlign:"center",boxShadow:"0 0 30px rgba(0, 255, 136, 0.2)"},children:[t.jsx("p",{style:{color:"#00ff88",margin:"0 0 1rem 0",fontWeight:"700",fontSize:"1.1rem",textShadow:"0 0 15px rgba(0, 255, 136, 0.6)",textTransform:"uppercase",letterSpacing:"1px"},children:"âœ… Cont Activ"}),t.jsx("button",{onClick:()=>y(e.id),style:{padding:"1rem 1.5rem",background:"linear-gradient(135deg, #ff0080 0%, #ff0040 100%)",color:"white",border:"2px solid #ff0080",borderRadius:"12px",cursor:"pointer",fontWeight:"700",fontSize:window.innerWidth<768?"0.95rem":"1rem",display:"block",margin:"0 auto",width:"100%",maxWidth:window.innerWidth<768?"100%":"250px",boxShadow:"0 0 20px rgba(255, 0, 128, 0.5), inset 0 0 10px rgba(255, 255, 255, 0.2)",transition:"all 0.3s ease",textTransform:"uppercase",letterSpacing:"1px"},onMouseOver:n=>{n.target.style.transform="scale(1.05)",n.target.style.boxShadow="0 0 30px rgba(255, 0, 128, 0.7), inset 0 0 15px rgba(255, 255, 255, 0.3)"},onMouseOut:n=>{n.target.style.transform="scale(1)",n.target.style.boxShadow="0 0 20px rgba(255, 0, 128, 0.5), inset 0 0 10px rgba(255, 255, 255, 0.2)"},children:"ğŸ”Œ DeconecteazÄƒ"})]})]},e.id))}),p&&t.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.9)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:t.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(0, 10, 20, 0.95) 0%, rgba(0, 20, 40, 0.95) 100%)",border:"2px solid rgba(0, 245, 255, 0.4)",borderRadius:"16px",padding:window.innerWidth<768?"1.5rem":"2rem",maxWidth:"450px",width:"100%",boxShadow:"0 0 40px rgba(0, 245, 255, 0.3), inset 0 0 30px rgba(0, 245, 255, 0.05)"},children:[t.jsx("h3",{style:{margin:"0 0 1.5rem 0",background:"linear-gradient(135deg, #00f5ff 0%, #00ff88 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontSize:window.innerWidth<768?"1.3rem":"1.5rem",fontWeight:"800",textAlign:"center"},children:"â• AdaugÄƒ Cont WhatsApp"}),t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#00f5ff",fontSize:"0.875rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Nume cont:"}),t.jsx("input",{type:"text",value:s,onChange:e=>i(e.target.value),placeholder:"Ex: SuperParty Account 1",style:{width:"100%",padding:"0.75rem",background:"rgba(0, 245, 255, 0.05)",border:"2px solid rgba(0, 245, 255, 0.3)",borderRadius:"8px",color:"#00f5ff",marginBottom:"1rem",fontSize:"1rem",outline:"none",transition:"all 0.3s ease"},onFocus:e=>{e.target.style.borderColor="rgba(0, 245, 255, 0.6)",e.target.style.boxShadow="0 0 15px rgba(0, 245, 255, 0.3)"},onBlur:e=>{e.target.style.borderColor="rgba(0, 245, 255, 0.3)",e.target.style.boxShadow="none"}}),t.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"#00ff88",fontSize:"0.875rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"},children:"NumÄƒr telefon (opÈ›ional):"}),t.jsx("input",{type:"tel",value:c,onChange:e=>u(e.target.value),placeholder:"Ex: +40712345678",style:{width:"100%",padding:"0.75rem",background:"rgba(0, 255, 136, 0.05)",border:"2px solid rgba(0, 255, 136, 0.3)",borderRadius:"8px",color:"#00ff88",marginBottom:"0.5rem",fontSize:"1rem",outline:"none",transition:"all 0.3s ease"},onFocus:e=>{e.target.style.borderColor="rgba(0, 255, 136, 0.6)",e.target.style.boxShadow="0 0 15px rgba(0, 255, 136, 0.3)"},onBlur:e=>{e.target.style.borderColor="rgba(0, 255, 136, 0.3)",e.target.style.boxShadow="none"},onKeyPress:e=>e.key==="Enter"&&b()}),t.jsx("p",{style:{color:"#ba55d3",fontSize:"0.75rem",marginBottom:"1.5rem",marginTop:"0.5rem",fontWeight:"500"},children:"ğŸ’¡ DacÄƒ introduci numÄƒrul, vei primi È™i un cod de 8 cifre"}),t.jsxs("div",{style:{display:"flex",flexDirection:window.innerWidth<768?"column":"row",gap:"1rem"},children:[t.jsx("button",{onClick:()=>{l(!1),i(""),u("")},style:{flex:1,padding:"1rem",background:"linear-gradient(135deg, rgba(255, 0, 128, 0.2) 0%, rgba(255, 0, 64, 0.2) 100%)",color:"#ff0080",border:"2px solid rgba(255, 0, 128, 0.4)",borderRadius:"10px",cursor:"pointer",fontWeight:"700",fontSize:"1rem",textTransform:"uppercase",letterSpacing:"1px",transition:"all 0.3s ease"},onMouseOver:e=>{e.target.style.background="linear-gradient(135deg, rgba(255, 0, 128, 0.3) 0%, rgba(255, 0, 64, 0.3) 100%)",e.target.style.boxShadow="0 0 20px rgba(255, 0, 128, 0.4)"},onMouseOut:e=>{e.target.style.background="linear-gradient(135deg, rgba(255, 0, 128, 0.2) 0%, rgba(255, 0, 64, 0.2) 100%)",e.target.style.boxShadow="none"},children:"âœ– AnuleazÄƒ"}),t.jsx("button",{onClick:b,style:{flex:1,padding:"1rem",background:"linear-gradient(135deg, #00f5ff 0%, #00ff88 100%)",color:"#0a0a0a",border:"2px solid #00f5ff",borderRadius:"10px",cursor:"pointer",fontWeight:"800",fontSize:"1rem",textTransform:"uppercase",letterSpacing:"1px",boxShadow:"0 0 20px rgba(0, 245, 255, 0.5)",transition:"all 0.3s ease"},onMouseOver:e=>{e.target.style.transform="scale(1.05)",e.target.style.boxShadow="0 0 30px rgba(0, 245, 255, 0.7)"},onMouseOut:e=>{e.target.style.transform="scale(1)",e.target.style.boxShadow="0 0 20px rgba(0, 245, 255, 0.5)"},children:"âœ“ AdaugÄƒ"})]})]})})]})}const w="https://us-central1-superparty-frontend.cloudfunctions.net/whatsappV3",A=[{id:"1",name:"Ion Popescu",phone:"+40721234567",unreadCount:2},{id:"2",name:"Maria Ionescu",phone:"+40722345678",unreadCount:0},{id:"3",name:"Andrei Georgescu",phone:"+40723456789",unreadCount:1}],j=!1;function T(){const[d,h]=a.useState([]),[o,g]=a.useState(null),[p,l]=a.useState([]),[s,i]=a.useState(""),[c,u]=a.useState(!0);a.useEffect(()=>{m();const r=k(w);return r.on("connect",()=>{console.log("âœ… Connected to backend")}),r.on("whatsapp:message",e=>{console.log("ğŸ’¬ New message received:",e),o&&e.message.from===o.id&&l(n=>[...n,{id:e.message.id,text:e.message.body,fromClient:!e.message.fromMe,timestamp:e.message.timestamp*1e3}]),m()}),()=>r.disconnect()},[o]);const m=async()=>{try{if(!j){const e=await(await fetch(`${w}/api/clients`)).json();e.success&&h(e.clients)}}catch(r){console.error("Failed to load clients:",r),h(A)}finally{u(!1)}},b=async r=>{try{if(!j){const n=await(await fetch(`${w}/api/clients/${r}/messages`)).json();n.success&&l(n.messages)}}catch(e){console.error("Failed to load messages:",e)}},y=async()=>{if(!(!s.trim()||!o))try{if(!j){const e=await(await fetch(`${w}/api/clients/${o.id}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:s})})).json();e.success&&(l(n=>[...n,e.message]),i(""))}}catch(r){console.error("Failed to send message:",r),alert("âŒ Eroare la trimiterea mesajului")}},f=r=>{g(r),b(r.id)};return c?t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"400px",color:"#9ca3af"},children:t.jsx("div",{children:"Se Ã®ncarcÄƒ..."})}):t.jsxs("div",{style:{display:"flex",gap:"1rem",height:"600px",background:"#1f2937",borderRadius:"8px",overflow:"hidden"},children:[t.jsxs("div",{style:{width:"300px",borderRight:"1px solid #374151",display:"flex",flexDirection:"column"},children:[t.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid #374151",fontWeight:"600",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("span",{children:["ğŸ’¬ ClienÈ›i (",d.length,")"]}),t.jsx("button",{onClick:()=>{u(!0),m()},style:{background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",padding:"0.5rem",cursor:"pointer",fontSize:"1rem"},title:"ReÃ®mprospÄƒteazÄƒ lista",children:"ğŸ”„"})]}),t.jsx("div",{style:{flex:1,overflowY:"auto"},children:d.length===0?t.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#9ca3af"},children:t.jsx("p",{children:"Niciun client disponibil"})}):d.map(r=>t.jsxs("div",{onClick:()=>f(r),style:{padding:"1rem",background:o?.id===r.id?"#3b82f6":"transparent",borderBottom:"1px solid #374151",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:e=>{o?.id!==r.id&&(e.currentTarget.style.background="#374151")},onMouseLeave:e=>{o?.id!==r.id&&(e.currentTarget.style.background="transparent")},children:[t.jsx("div",{style:{fontWeight:"600",color:"white",marginBottom:"0.25rem"},children:r.name}),t.jsx("div",{style:{fontSize:"0.875rem",color:o?.id===r.id?"#e0e7ff":"#9ca3af"},children:r.phone}),r.unreadCount>0&&t.jsxs("div",{style:{marginTop:"0.5rem",display:"inline-block",background:"#ef4444",color:"white",padding:"0.125rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"600"},children:[r.unreadCount," nou",r.unreadCount>1?"e":""]})]},r.id))})]}),t.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:o?t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid #374151",background:"#374151"},children:[t.jsx("div",{style:{fontWeight:"600",fontSize:"1.125rem",color:"white"},children:o.name}),t.jsx("div",{style:{fontSize:"0.875rem",color:"#9ca3af"},children:o.phone})]}),t.jsx("div",{style:{flex:1,overflowY:"auto",padding:"1rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:p.length===0?t.jsx("div",{style:{textAlign:"center",color:"#9ca3af",padding:"2rem"},children:"Niciun mesaj Ã®ncÄƒ"}):p.map((r,e)=>t.jsxs("div",{style:{alignSelf:r.fromClient?"flex-start":"flex-end",maxWidth:"70%"},children:[t.jsx("div",{style:{padding:"0.75rem",borderRadius:"8px",background:r.fromClient?"#374151":"#3b82f6",color:"white"},children:r.text}),t.jsx("div",{style:{fontSize:"0.75rem",color:"#9ca3af",marginTop:"0.25rem",textAlign:r.fromClient?"left":"right"},children:new Date(r.timestamp).toLocaleTimeString("ro-RO",{hour:"2-digit",minute:"2-digit"})})]},e))}),t.jsxs("div",{style:{padding:"1rem",borderTop:"1px solid #374151",display:"flex",gap:"0.5rem"},children:[t.jsx("input",{type:"text",value:s,onChange:r=>i(r.target.value),onKeyPress:r=>r.key==="Enter"&&y(),placeholder:"Scrie un mesaj...",style:{flex:1,padding:"0.75rem",background:"#374151",border:"1px solid #4b5563",borderRadius:"8px",color:"white",fontSize:"1rem"}}),t.jsx("button",{onClick:y,disabled:!s.trim(),style:{padding:"0.75rem 1.5rem",background:s.trim()?"#3b82f6":"#4b5563",color:"white",border:"none",borderRadius:"8px",cursor:s.trim()?"pointer":"not-allowed",fontSize:"1rem",fontWeight:"600"},children:"Trimite"})]})]}):t.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af",flexDirection:"column",gap:"1rem"},children:[t.jsx("div",{style:{fontSize:"4rem"},children:"ğŸ’¬"}),t.jsx("p",{style:{fontSize:"1.25rem"},children:"SelecteazÄƒ un client"}),t.jsx("p",{style:{fontSize:"0.875rem"},children:"pentru a vedea conversaÈ›ia"})]})})]})}function N(){const d=v(),o=C.currentUser?.email==="ursache.andrei1995@gmail.com",[g,p]=a.useState("accounts"),[l,s]=a.useState(null);return a.useEffect(()=>{if(!o){alert("â›” Acces interzis! Doar administratorul poate accesa aceastÄƒ paginÄƒ."),d("/home");return}fetch("https://us-central1-superparty-frontend.cloudfunctions.net/whatsappV3/api/whatsapp/accounts").then(i=>i.json()).then(i=>{const c=i.accounts?.find(u=>u.status==="connected");c&&(s(c),p("chat"))}).catch(i=>console.error("Error:",i))},[o,d]),o?t.jsxs("div",{className:"page-container",children:[t.jsx("div",{className:"page-header",children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[t.jsxs("div",{children:[t.jsx("h1",{children:"ğŸ’¬ Chat Clienti - WhatsApp"}),t.jsx("p",{className:"page-subtitle",children:g==="chat"?"ConversaÈ›ii cu clienÈ›ii":"Gestionare conturi WhatsApp"})]}),t.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>p("chat"),className:g==="chat"?"btn-primary":"btn-secondary",style:{fontSize:"0.875rem",padding:"0.5rem 1rem"},children:"ğŸ’¬ Chat"}),t.jsx("button",{onClick:()=>p("accounts"),className:g==="accounts"?"btn-primary":"btn-secondary",style:{fontSize:"0.875rem",padding:"0.5rem 1rem"},children:"âš™ï¸ Accounts"})]}),t.jsx("button",{onClick:()=>d("/home"),className:"btn-secondary",children:"â† Ãnapoi"})]})]})}),g==="accounts"?t.jsx(W,{}):t.jsx(T,{})]}):null}export{N as default};
