import{a as d,j as e,d as u}from"./index-go8NIyy-.js";import{u as p,b as t}from"./react-vendor-BCFq-EBz.js";import{B as m,t as h}from"./firebase-CZFSqwcK.js";import{C as x}from"./ChatClientiRealtime-BOXOpY1m.js";function y(){const a=p(),s=d.currentUser,[i,o]=t.useState(null),[l,c]=t.useState(!0);return t.useEffect(()=>{if(!s){a("/");return}(async()=>{try{const r=await m(h(u,"users",s.uid));if(r.exists()){const n=r.data().code;o(n),n||(alert("‚ö†Ô∏è Nu ai cod alocat. ContacteazƒÉ administratorul."),a("/home"))}else alert("‚ö†Ô∏è Profil inexistent. ContacteazƒÉ administratorul."),a("/home")}catch(r){console.error("Error loading user code:",r),alert("Eroare la √ÆncƒÉrcarea profilului."),a("/home")}finally{c(!1)}})()},[s,a]),!s||l?e.jsx("div",{className:"page-container",children:e.jsxs("div",{style:{padding:"2rem",textAlign:"center"},children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Se √ÆncarcƒÉ..."})]})}):e.jsxs("div",{className:"page-container",children:[e.jsx("div",{className:"page-header",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",flexWrap:"wrap",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("h1",{children:"üí¨ Chat Clien»õi WhatsApp"}),e.jsxs("p",{className:"page-subtitle",children:["Conversa»õiile tale cu clien»õii - Cod: ",e.jsx("strong",{children:i})]})]}),e.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:e.jsx("button",{onClick:()=>a("/home"),className:"btn-secondary",children:"‚Üê √énapoi"})})]})}),e.jsx(x,{isGMMode:!1,userCode:i})]})}export{y as default};
